<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GoPanda Self-Drive Cars â€“ Guntur</title>
<meta name="description" content="GoPanda offers premium self-drive car rentals in Guntur. Book economy, premium & luxury cars at best prices. 10 % discount on all rentals.">
<meta name="keywords" content="car rental Guntur, self drive cars Guntur, GoPanda cars, luxury rental, premium cars">

<!-- Bootstrap 5 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Font Awesome 6 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- AOS -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<!-- GLightbox -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
<!-- Swiper -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">

<style>
/* ---------------------------------------------
   GLOBAL / THEME
--------------------------------------------- */
:root{
    --gp-primary:#0d6efd;
    --gp-economy:#198754;
    --gp-premium:#0d6efd;
    --gp-luxury:#dc3545;
    --gp-bg-light:#f8f9fa;
}

body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:var(--gp-bg-light);}

/* ---------------------------------------------
   LOGO & HERO
--------------------------------------------- */
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-22px)}}
.logo-animation{height:240px;animation:float 3s ease-in-out infinite;}
.hero{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;background:var(--gp-bg-light);}

/* ---------------------------------------------
   DISCOUNT / FESTIVAL BANNER
--------------------------------------------- */
.banner-container{width:100%;height:90px;position:relative;overflow:hidden;background:linear-gradient(45deg,#ff6b6b,#4ecdc4);border-radius:8px;margin-top:1rem;}
.festival-banner{display:flex;align-items:center;position:absolute;height:70%;animation:scrollBanner 20s linear infinite;}
.banner-item{display:flex;align-items:center;justify-content:center;height:100%;padding:0 25px;flex-shrink:0;}
.festival-decoration{color:#fff;font-weight:700;text-shadow:1px 1px 3px rgba(0,0,0,.5);white-space:nowrap;font-size:1.1rem;}
.car-image{height:100px;width:auto;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,.2);}
@keyframes scrollBanner{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
.confetti{position:absolute;width:10px;height:10px;opacity:.7;animation:fall 5s linear infinite;}
@keyframes fall{to{transform:translateY(150px) rotate(360deg);opacity:0}}

/* ---------------------------------------------
   CAR CARDS
--------------------------------------------- */
.car-card{transition:transform .3s;margin-bottom:1.25rem;}
.car-card:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,.1);}
.car-img{height:200px;object-fit:cover;width:100%;}
.price-badge{font-size:.75rem;margin-right:.25rem;}
.badge-category-economy{background:var(--gp-economy);}
.badge-category-premium{background:var(--gp-premium);}
.badge-category-luxury{background:var(--gp-luxury);}

/* ---------------------------------------------
   CONTACT / FOOTER
--------------------------------------------- */
.contact .info-item{padding:20px;background:#fff;border-radius:10px;height:100%;}
.contact .info-item i{font-size:24px;color:var(--gp-primary);margin-right:1rem;}
.footer .icon{font-size:24px;margin-right:15px;color:var(--gp-primary);}
.footer .social-links a{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);color:#fff;margin-right:10px;transition:.3s;}
.footer .social-links a:hover{background:var(--gp-primary);}

/* ---------------------------------------------
   RESPONSIVE TWEAKS
--------------------------------------------- */
@media (max-width:768px){.hero-text{font-size:2rem}}
</style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <i class="fa-solid fa-paw fa-lg me-2"></i><span>GoPanda Cars</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link active" href="#"><i class="fas fa-home me-1"></i>Home</a></li>
        <li class="nav-item"><a class="nav-link" href="profile.html"><i class="fas fa-user me-1"></i>Profile</a></li>
        <li class="nav-item"><a class="nav-link" href="about"><i class="fas fa-info-circle me-1"></i>About</a></li>
        <li class="nav-item"><a class="nav-link" href="contact"><i class="fas fa-envelope me-1"></i>Contact</a></li>
        <li class="nav-item"><a class="nav-link" href="pay"><i class="fas fa-credit-card me-1"></i>Pay</a></li>
        <li class="nav-item"><a class="nav-link" href="help"><i class="fas fa-question-circle me-1"></i>Help</a></li>
        <li class="nav-item"><a class="nav-link" id="loginLink" href="login.html"><i class="fas fa-sign-in-alt me-1"></i>Login</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <img src="img/logo.png" alt="GoPanda logo" class="logo-animation">
  <div class="banner-container">
    <!-- Confetti -->
    <div class="confetti" style="left:10%;background:#ff0;"></div>
    <div class="confetti" style="left:30%;background:#f0f;animation-delay:1s"></div>
    <div class="confetti" style="left:70%;background:#0ff;animation-delay:2s"></div>

    <!-- Scrolling banner -->
    <div class="festival-banner">
      <div class="banner-item festival-decoration">ðŸŽ‰ SPECIAL OFFER ðŸŽ‰</div>
      <div class="banner-item"><img src="img/logo.png" alt="Car" class="car-image"></div>
      <div class="banner-item festival-decoration">UP TO â‚¹500 OFF</div>
      <div class="banner-item"><img src="img/logo.png" alt="Car" class="car-image"></div>
      <div class="banner-item festival-decoration">ðŸš— THIS FESTIVAL ðŸš—</div>
      <div class="banner-item"><img src="img/logo.png" alt="Car" class="car-image"></div>

      <!-- loop duplicate for seamless scroll -->
      <div class="banner-item festival-decoration">ðŸŽ‰ SPECIAL OFFER ðŸŽ‰</div>
      <div class="banner-item"><img src="img/logo.png" alt="Car" class="car-image"></div>
    </div>
  </div>
</section>

<header class="bg-primary text-white py-5 text-center">
  <h1 class="display-5 hero-text"><i class="fa-solid fa-car-side me-2"></i>GoPanda Self-Drive Cars in Guntur</h1>
  <p class="lead mb-4">Premium car rental service at affordable prices</p>
  <a href="#economyCars" class="btn btn-light btn-lg me-2"><i class="fas fa-car me-1"></i>Book Now</a>
  <a href="#contact" class="btn btn-outline-light btn-lg"><i class="fas fa-phone-alt me-1"></i>Contact Us</a>
</header>

<!-- DATE FILTERS -->
<section class="py-4 bg-light">
  <div class="container">
    <div class="row mb-4">
      <div class="col-md-8"><h3 id="availabilityHeader" class="fw-semibold"><i class="fas fa-calendar-check me-2"></i>Available Cars</h3></div>
      <div class="col-md-4 text-md-end">
        <div class="btn-group flex-wrap" role="group">
          <button type="button" class="btn btn-outline-primary date-filter-btn active" data-filter="today"><i class="fas fa-calendar-day me-1"></i>Today</button>
          <button type="button" class="btn btn-outline-primary date-filter-btn" data-filter="tomorrow"><i class="fas fa-calendar-alt me-1"></i>Tomorrow</button>
          <div class="input-group mt-2 mt-md-0">
            <input type="date" class="form-control" id="customDateFilter">
            <button class="btn btn-primary" type="button" id="applyCustomDate"><i class="fas fa-check"></i></button>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 text-center">
        <div class="spinner-border text-primary loading-spinner" role="status"><span class="visually-hidden">Loading...</span></div>
        <div id="errorMessage" class="text-danger small"></div>
      </div>
    </div>
  </div>
</section>

<!-- CAR LISTS -->
<section class="py-5">
  <div class="container">
    <h4 class="mb-4"><i class="fas fa-car me-2 text-success"></i>Economy Cars</h4>
    <div class="row" id="economyCars">
      <div class="col-12 no-cars-available">
        <div class="alert alert-info w-100 text-center"><i class="fas fa-spinner fa-spin me-2"></i>Loading economy cars...</div>
      </div>
    </div>

    <h4 class="mb-4 mt-5"><i class="fas fa-car-side me-2 text-primary"></i>Premium Cars</h4>
    <div class="row" id="premiumCars">
      <div class="col-12 no-cars-available">
        <div class="alert alert-info w-100 text-center"><i class="fas fa-spinner fa-spin me-2"></i>Loading premium cars...</div>
      </div>
    </div>

    <h4 class="mb-4 mt-5"><i class="fas fa-gem me-2 text-danger"></i>Luxury Cars</h4>
    <div class="row" id="luxuryCars">
      <div class="col-12 no-cars-available">
        <div class="alert alert-info w-100 text-center"><i class="fas fa-spinner fa-spin me-2"></i>Loading luxury cars...</div>
      </div>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section id="contact" class="contact py-5">
  <div class="container">
    <div class="text-center mb-5" data-aos="fade-up">
      <h2><i class="fas fa-phone-alt me-2"></i>Contact Us</h2>
      <p class="lead">Need help? Get in touch with our team</p>
    </div>

    <div class="row g-4">
      <div class="col-md-6" data-aos="fade-up" data-aos-delay="100">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18..." width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
      </div>

      <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
        <div class="row gy-4">
          <div class="col-md-6">
            <div class="info-item d-flex"><i class="fas fa-map-marker-alt"></i>
              <div><h5>Address</h5><p class="mb-0">Beside Andhra Muslim College, Ponnur Rd, Guntur 522001</p></div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="info-item d-flex"><i class="fas fa-phone-alt"></i>
              <div><h5>Call Us</h5><p class="mb-0"><a href="tel:9052017979">9052017979</a><br><a href="tel:9052027979">9052027979</a><br><a href="tel:9052037979">9052037979</a></p></div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="info-item d-flex"><i class="fas fa-envelope"></i>
              <div><h5>Email Us</h5><p class="mb-0"><a href="mailto:gopandaindia@gmail.com">gopandaindia@gmail.com</a></p></div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="info-item d-flex"><i class="fas fa-clock"></i>
              <div><h5>Opening Hours</h5><p class="mb-0"><strong>Daily:</strong> 6 AM â€“ 11 PM</p></div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="info-item d-flex"><i class="fab fa-whatsapp"></i>
              <div><h5>WhatsApp</h5><p class="mb-0"><a href="https://wa.me/9052017979">9052017979</a></p></div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="info-item d-flex"><i class="fas fa-headset"></i>
              <div><h5>Customer Support</h5><p class="mb-0">24/7 support available</p></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="bg-dark text-white py-4">
  <div class="container">
    <div class="row gy-4">
      <div class="col-lg-3 col-md-6">
        <div class="d-flex"><i class="fas fa-map-marker-alt icon mt-1"></i>
          <div><h5>Address</h5><p>Guntur Ponnur Rd, beside Muslim College, Guntur 522001</p></div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="d-flex"><i class="fas fa-phone-alt icon mt-1"></i>
          <div><h5>Contact</h5><p class="mb-1"><strong>Phone:</strong> 9052017979, 9052027979, 9052037979</p><p class="mb-0"><strong>Email:</strong> gopandaindia@gmail.com</p></div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="d-flex"><i class="fas fa-clock icon mt-1"></i>
          <div><h5>Opening Hours</h5><p class="mb-1"><strong>Daily:</strong> 6 AM â€“ 11 PM</p></div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <h5>Follow Us</h5>
        <div class="social-links">
          <a href="https://www.facebook.com" class="text-white"><i class="fab fa-facebook-f"></i></a>
          <a href="https://www.instagram.com/gopanda_cars" class="text-white"><i class="fab fa-instagram"></i></a>
          <a href="https://wa.me/9052017979" class="text-white"><i class="fab fa-whatsapp"></i></a>
          <a href="mailto:gopandaindia@gmail.com" class="text-white"><i class="fas fa-envelope"></i></a>
        </div>
      </div>
    </div>
    <hr class="my-4 border-light">
    <div class="text-center small">&copy; 2025 GoPanda Cars. All rights reserved. Developed by <a href="https://gantasolutions.com" class="text-white">GANTA</a></div>
  </div>
</footer>

<!-- MODALS, SCRIPTS & APP LOGIC -->
<!-- Booking Modal -->
<div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><i class="fas fa-car me-2"></i>Book <span id="modalCarName"></span></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div id="loginRequired" class="alert alert-info"><i class="fas fa-info-circle me-1"></i>Please <a href="login.html">login</a> to book this car.</div>
        <div id="bookingForm">
          <div class="mb-3">
            <label class="form-label"><i class="fas fa-clock me-1"></i>Rental Option</label>
            <select class="form-select" id="rentalOption">
              <option value="hourly">Hourly (â‚¹<span id="priceHourly"></span>/hr)</option>
              <option value="12hrs">12 Hours (â‚¹<span id="price12hrs"></span>)</option>
              <option value="24hrs">24 Hours (â‚¹<span id="price24hrs"></span>)</option>
            </select>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <label class="form-label"><i class="fas fa-calendar-plus me-1"></i>Start Date & Time</label>
              <input type="datetime-local" class="form-control" id="startDateTime">
              <div id="startDateError" class="text-danger small"></div>
            </div>
            <div class="col-md-6">
              <label class="form-label"><i class="fas fa-calendar-minus me-1"></i>End Date & Time</label>
              <input type="datetime-local" class="form-control" id="endDateTime">
              <div id="endDateError" class="text-danger small"></div>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label"><i class="fas fa-phone me-1"></i>Phone Number</label>
            <input type="tel" class="form-control" id="phoneNumber" placeholder="10-digit mobile number">
            <div id="phoneError" class="text-danger small"></div>
          </div>
          <div class="alert alert-secondary">
            <strong><i class="fas fa-rupee-sign me-1"></i>Estimated Total: â‚¹<span id="estimatedTotal">0</span></strong>
            <p class="mb-0 small" id="billingNote"></p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal"><i class="fas fa-times me-1"></i>Close</button>
        <button class="btn btn-primary" id="confirmBookingBtn"><i class="fas fa-check me-1"></i>Confirm Booking</button>
      </div>
    </div>
  </div>
</div>

<!-- Vendor JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<script>
/* ---------------------------------------------
   INITIALISATION
--------------------------------------------- */
AOS.init({duration:800,easing:'ease-in-out',once:true});
const lightbox=GLightbox({selector:'.glightbox'});
const gallerySwiper=new Swiper('.gallerySwiper',{loop:true,speed:600,autoplay:{delay:5e3},slidesPerView:'auto',centeredSlides:true,pagination:{el:'.swiper-pagination',type:'bullets',clickable:true},breakpoints:{320:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:2,spaceBetween:20},1200:{slidesPerView:3,spaceBetween:30}}});

/* ---------------------------------------------
   FIREBASE CONFIG
--------------------------------------------- */
const firebaseConfig={apiKey:"AIzaSyAJKgz1fONteZPPD5T9bcIVjw3-iBUZyro",authDomain:"gopandacars-7085f.firebaseapp.com",projectId:"gopandacars-7085f",storageBucket:"gopandacars-7085f.appspot.com",messagingSenderId:"486383420605"};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();

/* ---------------------------------------------
   CAR DATA
--------------------------------------------- */
const cars=[ /* --- same array from original file (trimmed here for brevity) --- */ ];

/* ---------------------------------------------
   UTILITY FUNCTIONS
--------------------------------------------- */
const loadingSpinner=document.querySelector('.loading-spinner');
const errorMessage=document.getElementById('errorMessage');
const dateFilterButtons=document.querySelectorAll('.date-filter-btn');
const customDateInput=document.getElementById('customDateFilter');
const applyCustomDateBtn=document.getElementById('applyCustomDate');
const carContainers={economy:document.getElementById('economyCars'),premium:document.getElementById('premiumCars'),luxury:document.getElementById('luxuryCars')};

function showLoading(){loadingSpinner.style.display='block';errorMessage.textContent='';}
function hideLoading(){loadingSpinner.style.display='none';}
function showError(msg){errorMessage.textContent=msg;}
function badgeColor(cat){return cat==='economy'?'badge-category-economy':cat==='premium'?'badge-category-premium':'badge-category-luxury';}
function firestoreDate(ts){return ts&&typeof ts.toDate==='function'?ts.toDate():ts&&ts.seconds?new Date(ts.seconds*1e3):ts instanceof Date?ts:new Date(ts);}

/* ---------------------------------------------
   AUTH STATE
--------------------------------------------- */
auth.onAuthStateChanged(user=>{
  const loginLink=document.getElementById('loginLink');
  if(user){
    loginLink.innerHTML='<i class="fas fa-sign-out-alt me-1"></i>Logout';
    loginLink.href='#';
    loginLink.onclick=()=>auth.signOut().then(()=>location.reload());
  }
  filterAvailableCars('today');
});

/* ---------------------------------------------
   DATE FILTER EVENTS
--------------------------------------------- */
dateFilterButtons.forEach(btn=>btn.addEventListener('click',()=>filterAvailableCars(btn.dataset.filter)));
applyCustomDateBtn.addEventListener('click',()=>customDateInput.value?filterAvailableCars('custom',customDateInput.value):showError('Please select a date'));

/* ---------------------------------------------
   MAIN FILTER
--------------------------------------------- */
async function filterAvailableCars(filterType,customDate=null){
  showLoading();
  const now=new Date();now.setHours(0,0,0,0);
  let startDate,endDate;
  switch(filterType){
    case 'tomorrow':startDate=new Date(now);startDate.setDate(startDate.getDate()+1);endDate=new Date(startDate);endDate.setDate(endDate.getDate()+1);break;
    case 'custom':startDate=new Date(customDate);startDate.setHours(0,0,0,0);endDate=new Date(startDate);endDate.setDate(endDate.getDate()+1);break;
    default:startDate=new Date(now);endDate=new Date(now);endDate.setDate(endDate.getDate()+1);
  }
  document.getElementById('availabilityHeader').textContent='Available Cars for '+startDate.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});
  let booked=[];
  try{
    const snap=await db.collection('bookings').where('status','in',['confirmed','active','pending_payment']).get();
    snap.forEach(doc=>{
      const d=doc.data(),bStart=firestoreDate(d.startDateTime),bEnd=firestoreDate(d.endDateTime);
      if((bStart<endDate)&&(bEnd>startDate))booked.push(d.carId);
    });
  }catch(e){showError('Error checking availability');}finally{hideLoading();}
  renderCars(cars.filter(c=>c.category==='economy'&&!booked.includes(c.id)),carContainers.economy);
  renderCars(cars.filter(c=>c.category==='premium'&&!booked.includes(c.id)),carContainers.premium);
  renderCars(cars.filter(c=>c.category==='luxury'&&!booked.includes(c.id)),carContainers.luxury);
  dateFilterButtons.forEach(btn=>btn.classList.toggle('active',btn.dataset.filter===filterType));
}

/* ---------------------------------------------
   RENDER CAR CARDS
--------------------------------------------- */
function renderCars(list,container){
  container.innerHTML='';
  if(!list.length){container.innerHTML=`<div class="col-12"><div class="alert alert-info w-100 text-center"><i class="fas fa-info-circle me-1"></i>No cars available</div></div>`;return;}
  list.forEach(car=>{
    const col=document.createElement('div');col.className='col-md-4 mb-4';
    col.innerHTML=`
      <div class="card car-card h-100">
        <img src="${car.image}" class="card-img-top car-img" alt="${car.name}" onerror="this.onerror=null;this.src='https://via.placeholder.com/600x400?text=Car+Image'">
        <div class="card-body">
          <h5 class="card-title">${car.name}</h5>
          <p class="text-muted">${car.description}</p>
          <div class="d-flex flex-wrap mb-2">
            <span class="price-badge badge bg-secondary"><i class="fas fa-clock me-1"></i>â‚¹${car.priceHourly}/hr</span>
            <span class="price-badge badge bg-primary"><i class="fas fa-clock me-1"></i>â‚¹${car.price12hrs}/12h</span>
            <span class="price-badge badge bg-success"><i class="fas fa-clock me-1"></i>â‚¹${car.price24hrs}/24h</span>
            <span class="badge ${badgeColor(car.category)} ms-auto text-capitalize">${car.category}</span>
          </div>
          ${car.sunroof?'<span class="badge bg-info me-1"><i class="fas fa-sun me-1"></i>Sunroof</span>':''}
          ${car.withDriver?'<span class="badge bg-warning"><i class="fas fa-user-tie me-1"></i>With Driver</span>':''}
        </div>
        <div class="card-footer bg-transparent">
          <button class="btn btn-primary w-100 book-btn" data-car-id="${car.id}"><i class="fas fa-calendar-check me-1"></i>Book Now</button>
        </div>
      </div>`;
    container.appendChild(col);
  });
  container.querySelectorAll('.book-btn').forEach(btn=>btn.addEventListener('click',()=>showBookingModal(cars.find(c=>c.id===btn.dataset.carId))));
}

/* ---------------------------------------------
   BOOKING MODAL LOGIC
--------------------------------------------- */
const bookingModal=new bootstrap.Modal(document.getElementById('bookingModal'));
let selectedCar=null;

function showBookingModal(car){
  selectedCar=car;
  document.getElementById('modalCarName').textContent=car.name;
  document.getElementById('priceHourly').textContent=car.priceHourly;
  document.getElementById('price12hrs').textContent=car.price12hrs;
  document.getElementById('price24hrs').textContent=car.price24hrs;
  const user=auth.currentUser;
  document.getElementById('loginRequired').style.display=user?'none':'block';
  document.getElementById('bookingForm').style.display=user?'block':'none';
  document.getElementById('confirmBookingBtn').style.display=user?'inline-block':'none';
  document.getElementById('startDateError').textContent='';
  document.getElementById('endDateError').textContent='';
  document.getElementById('phoneError').textContent='';
  setDefaultDateTimes();
  updateEstimatedTotal();
  bookingModal.show();
}
function setDefaultDateTimes(){
  const now=new Date();now.setMinutes(0,0,0);
  document.getElementById('startDateTime').value=now.toISOString().slice(0,16);
  const end=new Date(now);end.setHours(end.getHours()+selectedCar.minHours);
  document.getElementById('endDateTime').value=end.toISOString().slice(0,16);
  document.getElementById('endDateTime').min=end.toISOString().slice(0,16);
}
/* â€¦ Remaining booking JS identical to original (validation, price calc, Firestore write) â€¦ */
</script>
</body>
</html>
