<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>GoPandaCars - Rent Premium Cars</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .car-card { transition: transform 0.3s; margin-bottom: 20px; }
    .car-card:hover { transform: translateY(-5px); }
    .hero-section { 
      background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://source.unsplash.com/random/1200x400/?car,rental');
      background-size: cover;
      color: white;
      padding: 100px 0;
      margin-bottom: 40px;
    }
    .badge-category { font-size: 0.8rem; }
    .nav-link { font-weight: 500; }
    .card-img-top {
      height: 200px;
      object-fit: cover;
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">GoPandaCars</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#economy">Economy</a></li>
          <li class="nav-item"><a class="nav-link" href="#premium">Premium</a></li>
          <li class="nav-item"><a class="nav-link" href="#luxury">Luxury</a></li>
        </ul>
        <div>
          <a href="login.html" class="btn btn-outline-light me-2">Login</a>
          <a href="login.html?action=signup" class="btn btn-primary">Sign Up</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section text-center">
    <div class="container">
      <h1 class="display-4 fw-bold mb-4">Premium Car Rentals</h1>
      <p class="lead mb-5">Choose from our wide range of vehicles for your perfect journey</p>
      <a href="#cars" class="btn btn-primary btn-lg px-4 me-2">Browse Cars</a>
      <a href="login.html" class="btn btn-outline-light btn-lg px-4">Book Now</a>
    </div>
  </section>

  <!-- Cars Section -->
  <div class="container mb-5" id="cars">
    <div class="text-center mb-5">
      <h2 class="fw-bold">Our Fleet</h2>
      <p class="lead text-muted">Select from our premium collection</p>
    </div>

    <!-- Economy Cars -->
    <h3 id="economy" class="mb-4 mt-5">Economy Cars</h3>
    <div class="row g-4 mb-5" id="economyCars"></div>

    <!-- Premium Cars -->
    <h3 id="premium" class="mb-4 mt-5">Premium Cars</h3>
    <div class="row g-4 mb-5" id="premiumCars"></div>

    <!-- Luxury Cars -->
    <h3 id="luxury" class="mb-4 mt-5">Luxury Cars</h3>
    <div class="row g-4" id="luxuryCars"></div>
  </div>

  <!-- Booking Modal -->
  <div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Book <span id="modalCarName"></span></h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div id="loginRequired" class="text-center py-4">
            <h6>Please login to book this car</h6>
            <a href="login.html" class="btn btn-primary mt-3">Login</a>
          </div>
          <form id="bookingForm" style="display:none;">
            <div class="mb-3">
              <label class="form-label">Rental Option</label>
              <select class="form-select" id="rentalOption">
                <option value="12hrs">12 Hours (₹<span id="price12hrs"></span>)</option>
                <option value="24hrs">24 Hours (₹<span id="price24hrs"></span>)</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="form-label">Start Date</label>
              <input type="date" class="form-control" id="startDate" required>
            </div>
            <div class="mb-3">
              <label class="form-label">End Date</label>
              <input type="date" class="form-control" id="endDate" required>
            </div>
            <div class="alert alert-info">
              Estimated Total: ₹<span id="estimatedTotal">0</span>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" id="confirmBookingBtn" class="btn btn-primary" style="display:none;">Confirm Booking</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    // Car data with placeholder images
    const cars = [
      {name:'Swift',image:'https://source.unsplash.com/random/600x400/?maruti+swift',price12hrs:1200,price24hrs:2000,description:'Compact hatchback with great fuel efficiency and comfortable seating for 5.',category:'economy'},
      {name:'Etios',image:'https://source.unsplash.com/random/600x400/?toyota+etios',price12hrs:1200,price24hrs:2000,description:'Reliable sedan with spacious interior and good mileage.',category:'economy'},
      {name:'I10 Nios',image:'https://source.unsplash.com/random/600x400/?hyundai+i10',price12hrs:1500,price24hrs:2300,description:'Premium hatchback with modern features and stylish design.',category:'economy'},
      {name:'Swift Dzire',image:'https://source.unsplash.com/random/600x400/?swift+dzire',price12hrs:1500,price24hrs:2300,description:'Popular compact sedan with excellent ride quality.',category:'economy'},
      {name:'Hyundai Aura',image:'https://source.unsplash.com/random/600x400/?hyundai+aura',price12hrs:1500,price24hrs:2500,description:'Stylish compact sedan with premium features.',category:'premium'},
      {name:'Tata Punch',image:'https://source.unsplash.com/random/600x400/?tata+punch',price12hrs:1500,price24hrs:2500,description:'Compact SUV with rugged design and modern features.',category:'premium'},
      {name:'Hyundai i20',image:'https://source.unsplash.com/random/600x400/?hyundai+i20',price12hrs:1500,price24hrs:2500,description:'Premium hatchback with sporty looks and advanced features.',sunroof:true,category:'premium'},
      {name:'Renault Kiger',image:'https://source.unsplash.com/random/600x400/?renault+kiger',price12hrs:1500,price24hrs:2500,description:'Compact SUV with bold styling and spacious interior.',category:'premium'},
      {name:'Brezza',image:'https://source.unsplash.com/random/600x400/?maruti+brezza',price12hrs:1500,price24hrs:2500,description:'Popular compact SUV with excellent build quality.',category:'premium'},
      {name:'Hyundai Creta',image:'https://source.unsplash.com/random/600x400/?hyundai+creta',price12hrs:2000,price24hrs:3000,description:'Premium SUV with luxurious features and spacious cabin.',category:'premium'},
      {name:'Mahindra Thar',image:'https://source.unsplash.com/random/600x400/?mahindra+thar',price12hrs:3500,price24hrs:5000,description:'Iconic off-roader with convertible top and powerful engine.',category:'luxury'},
      {name:'Innova Crysta',image:'https://source.unsplash.com/random/600x400/?innova+crysta',price12hrs:3500,price24hrs:5000,description:'Premium 7-seater MPV with luxurious comfort.',category:'luxury'},
      {name:'Fortuner',image:'https://source.unsplash.com/random/600x400/?toyota+fortuner',price12hrs:8000,price24hrs:12000,description:'Premium full-size SUV with powerful engine and luxury features.',withDriver:true,category:'luxury'}
    ];

    // Initialize Bootstrap modal
    const bookingModal = new bootstrap.Modal(document.getElementById('bookingModal'));
    let selectedCar = null;

    // Function to render cars by category
    function renderCars() {
      const economyCars = cars.filter(car => car.category === 'economy');
      const premiumCars = cars.filter(car => car.category === 'premium');
      const luxuryCars = cars.filter(car => car.category === 'luxury');

      renderCarCategory(economyCars, 'economyCars');
      renderCarCategory(premiumCars, 'premiumCars');
      renderCarCategory(luxuryCars, 'luxuryCars');
    }

    function renderCarCategory(carList, elementId) {
      const container = document.getElementById(elementId);
      container.innerHTML = '';

      carList.forEach((car, index) => {
        const card = document.createElement('div');
        card.className = 'col-md-4';
        card.innerHTML = `
          <div class="card car-card h-100">
            <img src="${car.image}" class="card-img-top" alt="${car.name}" 
                 onerror="this.onerror=null;this.src='https://placehold.co/600x400?text=Car+Image'">
            <div class="card-body">
              <h5 class="card-title">${car.name}</h5>
              <p class="card-text text-muted">${car.description}</p>
              <div class="d-flex justify-content-between align-items-center mb-2">
                <div>
                  <span class="fw-bold">₹${car.price12hrs}</span>/12h
                  <span class="mx-2">•</span>
                  <span class="fw-bold">₹${car.price24hrs}</span>/24h
                </div>
                <span class="badge bg-${getCategoryColor(car.category)} badge-category">${car.category}</span>
              </div>
              ${car.sunroof ? '<span class="badge bg-info me-1">Sunroof</span>' : ''}
              ${car.withDriver ? '<span class="badge bg-warning">With Driver</span>' : ''}
            </div>
            <div class="card-footer bg-transparent">
              <button class="btn btn-primary w-100 book-btn" data-car-index="${index}">Book Now</button>
            </div>
          </div>
        `;
        container.appendChild(card);
      });

      // Add event listeners to book buttons
      document.querySelectorAll('.book-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const carIndex = this.getAttribute('data-car-index');
          showBookingModal(cars[carIndex]);
        });
      });
    }

    function getCategoryColor(category) {
      switch(category) {
        case 'economy': return 'success';
        case 'premium': return 'primary';
        case 'luxury': return 'danger';
        default: return 'secondary';
      }
    }

    function showBookingModal(car) {
      selectedCar = car;
      document.getElementById('modalCarName').textContent = car.name;
      document.getElementById('price12hrs').textContent = car.price12hrs;
      document.getElementById('price24hrs').textContent = car.price24hrs;
      
      // For demo purposes, we'll show the booking form directly
      // In a real app, you would check if user is logged in first
      document.getElementById('loginRequired').style.display = 'none';
      document.getElementById('bookingForm').style.display = 'block';
      document.getElementById('confirmBookingBtn').style.display = 'block';
      
      // Set minimum date to today
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('startDate').min = today;
      document.getElementById('endDate').min = today;
      
      updateEstimatedTotal();
      bookingModal.show();
    }

    function updateEstimatedTotal() {
      if (!selectedCar) return;
      
      const option = document.getElementById('rentalOption').value;
      const startDate = new Date(document.getElementById('startDate').value);
      const endDate = new Date(document.getElementById('endDate').value);
      
      if (isNaN(startDate.getTime())) return;
      
      if (isNaN(endDate.getTime())) {
        // Single day booking
        const price = option === '12hrs' ? selectedCar.price12hrs : selectedCar.price24hrs;
        document.getElementById('estimatedTotal').textContent = price;
      } else {
        // Multi-day booking
        const days = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;
        const pricePerDay = option === '12hrs' ? selectedCar.price12hrs : selectedCar.price24hrs;
        document.getElementById('estimatedTotal').textContent = days * pricePerDay;
      }
    }

    // Event listeners for booking form
    document.getElementById('rentalOption').addEventListener('change', updateEstimatedTotal);
    document.getElementById('startDate').addEventListener('change', function() {
      document.getElementById('endDate').min = this.value;
      updateEstimatedTotal();
    });
    document.getElementById('endDate').addEventListener('change', updateEstimatedTotal);

    // Confirm booking
    document.getElementById('confirmBookingBtn').addEventListener('click', () => {
      const startDate = document.getElementById('startDate').value;
      const endDate = document.getElementById('endDate').value;
      
      if (!startDate || !endDate) {
        alert('Please select both start and end dates');
        return;
      }
      
      const option = document.getElementById('rentalOption').value;
      const price = option === '12hrs' ? selectedCar.price12hrs : selectedCar.price24hrs;
      
      // In a real app, you would save this to a database
      alert(`Booking confirmed!\n\nCar: ${selectedCar.name}\nDuration: ${startDate} to ${endDate}\nPrice: ₹${document.getElementById('estimatedTotal').textContent}`);
      
      bookingModal.hide();
    });

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      renderCars();
    });
  </script>
</body>
</html>
